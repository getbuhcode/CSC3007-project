<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.css" />
    <style type="text/css">
        .leaflet-container{background-color:#c5e8ff;}
    </style>
</head>

<body>
<div id="map">
    <svg></svg>
</div>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js"></script>
<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.js"></script>

<script>
    /**
     * GeoJSON map for United State and Europe
     * https://geojson-maps.ash.ms/
    */

    // Current window height & width
    var w = window.innerWidth;
    var h = window.innerHeight;
    console.log("width & height", w, h);

    var US_GeoJSONPath = 'UnitedState.geo.json';
    var myCustomStyle = {
        stroke: false,
        fill: true,
        fillColor: '#fff',
        fillOpacity: 1
    }
    $.getJSON(US_GeoJSONPath, function(data) {
        console.log("UnitedState.geo.json", data);

        // Set view on Leafet Map
        // Set 2.5 to view entire map
        var map = L.map('map').setView([39.74739, -105], 2.5);
        
        // Create Leafet Map
        L.geoJson(data, {
            clickable: false,
            style: myCustomStyle
        }).addTo(map);

        // Resize the map to fit the browser
        // https://stackoverflow.com/questions/16543446/how-to-make-leaflet-map-height-variable
        $(window).on("resize", function() {
            $("#map").height($(window).height()).width($(window).width());
            map.invalidateSize();
        }).trigger("resize");

    })

    // SVG Map layout
    // Promise.all([d3.json("UnitedState.geo.json"), ]).then(data => {
    //     // For SVG Map
    //     let width = 1000, height = 600;

    //     let districtMap = new Map();

    //     let svg = d3.select("svg")
    //         .attr("viewBox", "0 0 " + width + " " + height)

        

    //     console.log("UnitedState.geo.json", data);

    //     // Map and projection
    //     var projection = d3.geoMercator()
    //         .center([103.851959, 1.290270])
    //         .fitExtent([[20, 20], [980, 580]], data[0]);

    //     let geopath = d3.geoPath().projection(projection);

    //     // Append <g> to the HTML <svg>
    //     svg.append("g")
    //         // Plot out the map topology
    //         .selectAll("path")
    //         .data(data[0].features)
    //         .enter()
    //         .append("path")
            
    //         // Draw out the section of district
    //         .attr("d", geopath)
    // })
    
</script>

</body>
</html>